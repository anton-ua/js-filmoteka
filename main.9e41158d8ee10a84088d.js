(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"00et":function(e,n,t){},"9LTe":function(e,n,t){},ECZ2:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var r,o=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'        <img class="film-card__img" src="https://image.tmdb.org/t/p/w400'+c("function"==typeof(r=null!=(r=u(t,"backdrop_path")||(null!=n?u(n,"backdrop_path"):n))?r:i)?r.call(o,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:4,column:72},end:{line:4,column:89}}}):r)+'"\n            alt="poster for film '+c("function"==typeof(r=null!=(r=u(t,"film_title")||(null!=n?u(n,"film_title"):n))?r:i)?r.call(o,{name:"film_title",hash:{},data:l,loc:{start:{line:5,column:33},end:{line:5,column:47}}}):r)+' " />\n'},3:function(e,n,t,a,l){var r,o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'        <img class="film-card__img"\n            src="https://www.klaviyo.com/wp-content/uploads/2016/09/abstract-background-1024x273.jpg"\n            alt="poster for film '+e.escapeExpression("function"==typeof(r=null!=(r=o(t,"film_title")||(null!=n?o(n,"film_title"):n))?r:e.hooks.helperMissing)?r.call(null!=n?n:e.nullContext||{},{name:"film_title",hash:{},data:l,loc:{start:{line:9,column:33},end:{line:9,column:47}}}):r)+'" />\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var r,o,i=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li>\n    <a name="+u("function"==typeof(o=null!=(o=s(t,"id")||(null!=n?s(n,"id"):n))?o:c)?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:2,column:12},end:{line:2,column:18}}}):o)+' class="film-card__item">\n'+(null!=(r=s(t,"if").call(i,null!=n?s(n,"backdrop_path"):n,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l,loc:{start:{line:3,column:8},end:{line:10,column:15}}}))?r:"")+'        <span class="card-flim__star">'+u("function"==typeof(o=null!=(o=s(t,"vote_average")||(null!=n?s(n,"vote_average"):n))?o:c)?o.call(i,{name:"vote_average",hash:{},data:l,loc:{start:{line:11,column:38},end:{line:11,column:54}}}):o)+'</span>\n        <h3 class="film-card__title"><a class="film-card__link" href="#">'+u("function"==typeof(o=null!=(o=s(t,"film_title")||(null!=n?s(n,"film_title"):n))?o:c)?o.call(i,{name:"film_title",hash:{},data:l,loc:{start:{line:12,column:73},end:{line:12,column:87}}}):o)+" ("+u("function"==typeof(o=null!=(o=s(t,"year")||(null!=n?s(n,"year"):n))?o:c)?o.call(i,{name:"year",hash:{},data:l,loc:{start:{line:12,column:89},end:{line:12,column:97}}}):o)+")</a></h3>\n    </a>\n</li>"},useData:!0})},PO1B:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){return'<div class="searchBar">\n  <form class=\'searchForm\' action="post">\n    <input type="search" class="searchInput place-finder" placeholder="Write movie name and click Enter" />\n  </form>\n</div>'},useData:!0})},QfWi:function(e,n,t){"use strict";t.r(n);t("9LTe"),t("00et");var a=t("nO0q"),l=t.n(a),r=t("PO1B"),o=t.n(r),i=function(){var e=o()();document.querySelector("#search").innerHTML=e},c=l()();document.querySelector("#header").insertAdjacentHTML("afterBegin",c),i();var u=t("zEQW"),s=t.n(u)()();document.querySelector("#footer").insertAdjacentHTML("afterbegin",s);t("lAJ5"),t("JBxO"),t("Muwe"),t("9UJh"),t("w13K"),t("y89P"),t("X5mX");var d=function(){function e(e){var n,t,a,l=e.root,r=e.routes;a=function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")},(t="removeCornerSlashes")in(n=this)?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,this.root=l||"/",this.routes=r||[],this.listen()}var n=e.prototype;return n.getFragment=function(){var e=this.removeCornerSlashes(decodeURI(window.location.pathname+window.location.search));return e=e.replace(/\?(.*)$/,""),e="/"!==this.root?e.replace(this.root,""):e,this.removeCornerSlashes(e)},n.navigate=function(e){void 0===e&&(e=""),window.history.pushState(null,null,this.root+this.removeCornerSlashes(e))},n.listen=function(){clearInterval(this.interval),this.interval=setInterval(this.interval.bind(this),50)},n.interval=function(){var e=this;this.current!==this.getFragment()&&(this.current=this.getFragment(),this.routes.some((function(n){var t=e.current.match(n.path);return!!t&&(t.shift(),n.callback.apply({},t),t)})))},e}(),m=(t("lYjL"),t("IlJM"),t("8cZI"),t("lmye"),t("WB5j"),t("D/wG"),t("FdtR"),t("aZFp"),t("wcNg"),t("tsTF")),p=t.n(m),f=t("czhI"),h=t.n(f),v=function(e){return void 0===e&&(e=null),h.a.get("https://api.themoviedb.org/3/movie/"+e+"?api_key=4c723f08ea7a4a76125776c3387f72cf")},_=function(e){return!!localStorage[e]&&JSON.parse(localStorage.getItem(e))},g=function(e,n){localStorage.setItem(e,JSON.stringify(n))};function y(e,n,t,a,l,r,o){try{var i=e[r](o),c=i.value}catch(e){return void t(e)}i.done?n(c):Promise.resolve(c).then(a,l)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(a,l){var r=e.apply(n,t);function o(e){y(r,a,l,o,i,"next",e)}function i(e){y(r,a,l,o,i,"throw",e)}o(void 0)}))}}var w={filmDetails:document.querySelector("#main"),watched:null,watchedIcon:null,queue:null,queueIcon:null},k={},q=function(e){var n=_(e)||[];n.push(k),g(e,n)},x=function(e){var n=_(e).filter((function(e){var n=e.id;return k.id!==n}));g(e,n)},S=function(e,n){return!!e&&e.find((function(e){return e.id===n}))},L=function(){var e=b(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,T(n);case 3:k=e.sent;case 4:M(k);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),M=function(e){var n=p()(e);w.filmDetails.innerHTML=n,console.log(e.id),function(e){w.watched=document.querySelector(".watched"),w.watchedIcon=document.querySelector(".film-icon-watched"),w.watchedButton=document.querySelector(".watched-button");var n=_("filmsWatched");S(n,e)&&(w.watched.innerHTML="Remove from watched",w.watchedIcon.innerHTML="videocam_off",w.watchedButton.name="remove");w.watchedButton.addEventListener("click",(function(){"add"===w.watchedButton.name?(w.watched.innerHTML="Remove from watched",w.watchedIcon.innerHTML="videocam_off",w.watchedButton.name="remove",q("filmsWatched")):(w.watched.innerHTML="Add to watched",w.watchedIcon.innerHTML="videocam",w.watchedButton.name="add",x("filmsWatched"))})),w.queue=document.querySelector(".queue"),w.queueIcon=document.querySelector(".film-icon-queue"),w.queueButton=document.querySelector(".queue-button");var t=_("filmsQueue");S(t,e)&&(w.queue.innerHTML="Remove from queue",w.queueIcon.innerHTML="event_busy",w.queueButton.name="remove");w.queueButton.addEventListener("click",(function(){"add"===w.queueButton.name?(w.queue.innerHTML="Remove from queue",w.queueIcon.innerHTML="videocam_off",w.queueButton.name="remove",q("filmsQueue")):(w.queue.innerHTML="Add to queue",w.queueIcon.innerHTML="videocam",w.queueButton.name="add",x("filmsQueue"))}))}(e.id)},T=function(){var e=b(regeneratorRuntime.mark((function e(n){var t,a,l,r,o,i,c,u,s,d,m,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(n);case 3:return t=e.sent,a=t.data.release_date.split("-").slice(0,1).toString(),l=t.data.genres.map((function(e){return e.name})).join(", "),r=t.data.backdrop_path?t.data.backdrop_path:t.data.poster_path,o=t.data,i=o.poster_path,c=o.title,u=o.vote_average,s=o.vote_count,d=o.popularity,m=o.original_title,p=o.overview,f=o.id,e.abrupt("return",{poster_path:i,title:c,vote_average:u,vote_count:s,popularity:d,original_title:m,overview:p,genres:l,year:a,backdrop_path:r,id:f});case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),P=L,j=(t("hi3g"),t("RtS0"),t("3dw1"),function(e,n){return void 0===e&&(e="most popular"),void 0===n&&(n=1),h.a.get("https://api.themoviedb.org/3/search/multi?api_key=4c723f08ea7a4a76125776c3387f72cf&language=en-US&query="+e+"&page="+n+"&include_adult=false")}),E=t("ECZ2"),O=t.n(E);function I(e,n,t,a,l,r,o){try{var i=e[r](o),c=i.value}catch(e){return void t(e)}i.done?n(c):Promise.resolve(c).then(a,l)}function H(e){return function(){var n=this,t=arguments;return new Promise((function(a,l){var r=e.apply(n,t);function o(e){I(r,a,l,o,i,"next",e)}function i(e){I(r,a,l,o,i,"throw",e)}o(void 0)}))}}var B,R=document.querySelector("#main"),D=[],C=1,F=function(){var e=H(regeneratorRuntime.mark((function e(n){var t,a,l,r,o,i,c,u,s,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=null),null!==n){e.next=10;break}return e.next=4,h.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=4c723f08ea7a4a76125776c3387f72cf");case 4:return t=e.sent,D=[].concat(D,t.data.results),e.next=8,h.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=4c723f08ea7a4a76125776c3387f72cf&language=en-US");case 8:a=e.sent,[].concat(a.data.genres);case 10:l={filmList:document.querySelector(".film-card__list"),form:document.querySelector(".searchForm"),input:document.querySelector(".searchInput")},r=function(){var e=H(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements[0].value,e.next=4,j(n,C);case 4:a=e.sent,D=[].concat(a.data.results),s(),m();case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l.form.addEventListener("submit",r),o=[],i=function(){return 1===C?0:1!==C?6*(C-1):void 0},c=function(){return 1===C?6:1!==C?6*C:void 0},u=function(){return 1===C&&(o=D.slice(i(),c())),C>1&&(o=D.slice(i(),c())),o.map((function(e){var n=e.name,t=e.original_name,a=e.title,l=e.original_title,r=e.vote_average,o=e.backdrop_path,i=e.poster_path,c=e.id,u=e.release_date,s=n||t||a||l,d=u?u.split("-").slice(0,1).toString():"";return O()({vote_average:r,backdrop_path:o,poster_path:i,film_title:s,id:c,year:d})})).join("\n")},(s=function(){var e=u();R.innerHTML='<ul class ="film-card__list">'+e+'</ul>\n    <section class="homepage__pagination">\n    <button id="prev" class="homepage__pagination-controller">Prev</button>\n    <button class="homepage__pagination-page_indicator">'+C+'</button>\n    <button id="next" class="homepage__pagination-controller">Next</button>\n    </section>',A()})(),d=function(){var e=H(regeneratorRuntime.mark((function e(t){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={pagination:document.querySelector(".homepage__pagination"),prev:document.querySelector("#prev"),next:document.querySelector("#next")},t.target===a.prev&&1!==C&&(C--,s(),m()),function(){return D.length%6!=0?B=Math.round(D.length/6)+1:D.length%6==0?B=D.length/6:void 0}(),t.target!==a.next||C>=B||(C++,s(),m()),t.target!==a.next||C%3!=0){e.next=12;break}return e.next=8,j(n,C);case 8:l=e.sent,D=[].concat(D,l.data.results),console.log("renderFilms0000000000",D),m();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(m=function(){document.querySelector(".homepage__pagination").addEventListener("click",d)})();case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(){document.querySelectorAll(".film-card__item").forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault(),console.dir(e.currentTarget);var n=e.currentTarget.name;window.router.navigate("/film/"+n)}))}))},W=F,Q=t("da7+"),J=t.n(Q),z=document.querySelector("#main"),N=function(e){var n=_(e);console.log(n);var t=J()(n);z.innerHTML=t,document.querySelectorAll(".card-film__item").forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault();var n=e.currentTarget.name;window.router.navigate("/film/"+n)}))}))},U=document.querySelector(".header-btn[data-action=Library]"),Z=document.querySelector(".header-btn[data-action=home]");window.router=new d({root:"/",routes:[{path:/library\/watched/,callback:function(){N("filmsWatched")}},{path:/library\/queue/,callback:function(){N("filmsQueue")}},{path:/film\/(.*)/,callback:function(e){P(e,!1)}},{path:"",callback:function(){W()}}]}),U.addEventListener("click",(function(e){e.preventDefault(),window.router.navigate("/library/watched")})),Z.addEventListener("click",(function(e){e.preventDefault(),window.router.navigate("/")})),W()},"da7+":function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var r,o=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'    <li class="card-film__item">\n      <a name='+u(typeof(r=null!=(r=s(t,"id")||(null!=n?s(n,"id"):n))?r:i)===c?r.call(o,{name:"id",hash:{},data:l,loc:{start:{line:5,column:14},end:{line:5,column:20}}}):r)+'>\n        <img class="card-flim__img" src="https://image.tmdb.org/t/p/w500/'+u(typeof(r=null!=(r=s(t,"backdrop_path")||(null!=n?s(n,"backdrop_path"):n))?r:i)===c?r.call(o,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:6,column:73},end:{line:6,column:90}}}):r)+'" alt="Poster to film">\n        <span class="card-flim__star">'+u(typeof(r=null!=(r=s(t,"vote_average")||(null!=n?s(n,"vote_average"):n))?r:i)===c?r.call(o,{name:"vote_average",hash:{},data:l,loc:{start:{line:7,column:38},end:{line:7,column:54}}}):r)+'</span>\n        <h3 class="card-flim__title">'+u(typeof(r=null!=(r=s(t,"title")||(null!=n?s(n,"title"):n))?r:i)===c?r.call(o,{name:"title",hash:{},data:l,loc:{start:{line:8,column:37},end:{line:8,column:46}}}):r)+" ("+u(typeof(r=null!=(r=s(t,"year")||(null!=n?s(n,"year"):n))?r:i)===c?r.call(o,{name:"year",hash:{},data:l,loc:{start:{line:8,column:48},end:{line:8,column:56}}}):r)+")</h3>\n      </a>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var r;return'<div class="container">\n  <ul class="card-film__list">\n'+(null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:4},end:{line:11,column:13}}}))?r:"")+"  </ul>\n</div>"},useData:!0})},nO0q:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){return'<div class="container">\n  <header class="header">\n    <a class="logo bounce" href="/">\n      <img class="logo-img" src="https://i.ibb.co/nztx0PQ/logo.png" alt="Film" />\n\n      <span class="logo-name">Filmoteka</span>\n    </a>\n    <nav class="nav bounce">\n      <ul class="nav-list">\n\n        <li class="nav-list__item home-hover"><button class="header-btn" data-action="home">Home</button></li>\n        <li class="nav-list__item js-library library-hover">\n          <button class="header-btn" data-action="Library">My library</button>\n        </li>\n      </ul>\n    </nav>\n  </header>\n</div>\n</div>'},useData:!0})},tsTF:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var r,o=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",u=e.escapeExpression,s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="container">\n  <section class="film-details">\n    <div class="film-details__image--container">\n      <img class="film-details__image" src="https://image.tmdb.org/t/p/w500/'+u(typeof(r=null!=(r=s(t,"poster_path")||(null!=n?s(n,"poster_path"):n))?r:i)===c?r.call(o,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:76},end:{line:4,column:91}}}):r)+'" alt="Poster to film">\n    </div>\n    <div class="film-details__info">\n      <h2 class="info__title">'+u(typeof(r=null!=(r=s(t,"title")||(null!=n?s(n,"title"):n))?r:i)===c?r.call(o,{name:"title",hash:{},data:l,loc:{start:{line:7,column:30},end:{line:7,column:39}}}):r)+" ("+u(typeof(r=null!=(r=s(t,"year")||(null!=n?s(n,"year"):n))?r:i)===c?r.call(o,{name:"year",hash:{},data:l,loc:{start:{line:7,column:41},end:{line:7,column:49}}}):r)+')</h2>\n      <table class="info__table">\n        <tbody>\n          <tr class="info__table--raw">\n            <td class="info__table--cell">vote/votes</td>\n            <td class="info__table--cell">'+u(typeof(r=null!=(r=s(t,"vote_average")||(null!=n?s(n,"vote_average"):n))?r:i)===c?r.call(o,{name:"vote_average",hash:{},data:l,loc:{start:{line:12,column:42},end:{line:12,column:58}}}):r)+"/"+u(typeof(r=null!=(r=s(t,"vote_count")||(null!=n?s(n,"vote_count"):n))?r:i)===c?r.call(o,{name:"vote_count",hash:{},data:l,loc:{start:{line:12,column:59},end:{line:12,column:73}}}):r)+'</td>\n          </tr>\n          <tr class="info__table--raw">\n            <td class="info__table--cell">popularity</td>\n            <td class="info__table--cell">'+u(typeof(r=null!=(r=s(t,"popularity")||(null!=n?s(n,"popularity"):n))?r:i)===c?r.call(o,{name:"popularity",hash:{},data:l,loc:{start:{line:16,column:42},end:{line:16,column:56}}}):r)+'</td>\n          </tr>\n          <tr class="info__table--raw">\n            <td class="info__table--cell">original title</td>\n            <td class="info__table--cell">'+u(typeof(r=null!=(r=s(t,"original_title")||(null!=n?s(n,"original_title"):n))?r:i)===c?r.call(o,{name:"original_title",hash:{},data:l,loc:{start:{line:20,column:42},end:{line:20,column:60}}}):r)+'</td>\n          </tr>\n          <tr class="info__table--raw">\n            <td class="info__table--cell">genre</td>\n            <td class="info__table--cell">'+u(typeof(r=null!=(r=s(t,"genres")||(null!=n?s(n,"genres"):n))?r:i)===c?r.call(o,{name:"genres",hash:{},data:l,loc:{start:{line:24,column:42},end:{line:24,column:52}}}):r)+'</td>\n          </tr>\n\n        </tbody>\n      </table>\n      <h3 class="info__title">About</h3>\n      <p class="info__film-description">'+u(typeof(r=null!=(r=s(t,"overview")||(null!=n?s(n,"overview"):n))?r:i)===c?r.call(o,{name:"overview",hash:{},data:l,loc:{start:{line:30,column:40},end:{line:30,column:52}}}):r)+'</p>\n      <div class="button-wrap">\n\n\n        <button class="film-button watched-button" name="add"><i class="material-icons film-icon-watched">videocam\n          </i>&nbsp;<span class="watched">Add to watched</span>\n        </button>\n\n        <button class="film-button queue-button" name="add"><i class="material-icons film-icon-queue">event\n          </i>&nbsp;<span class="queue">Add to queue</span>\n        </button>\n      </div>\n\n    </div>\n  </section>\n</div>'},useData:!0})},zEQW:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){return'<footer class="footer_container">\n  <div class="container">\n    <p class="footer_text">Made by FEACOff 26</p>\n  </div>\n</footer>'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.9e41158d8ee10a84088d.js.map